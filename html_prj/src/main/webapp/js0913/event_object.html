<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="styesheet" type="text/css" href="http://211.63.89.139/html_prj/common/css/main_v1_220901.css"/>
<style type="text/css">
div{width:800px; height:200px; border:1px solid #333; margin-top: 10px; overflow: auto}
</style>
<script type="text/javascript">
//이벤트 등록
window.onload=function(){
	//keydown은 키 코드 값은 얻어지나 현재 입력 값은 얻어지지 않는다.
	document.getElementById("name").addEventListener("keydown", testEvt);
	//keyup 키 코드 값과 현재 입력 값이 모두 얻어진다.
	document.getElementById("name2").addEventListener("keyup", testEvt2);
	document.getElementById("intro").addEventListener("keydown", setTextLeng);
}//function

var msg="";
function testEvt(evt){
	//.addEventListener함수에서 발생된 evt는 발생된 이벤트 객체가 입력된다.
	//alert("키보드 이벤트 성공"+evt);
	
	//1.눌린키의 키 값과 text를 얻기
	//alert(evt.keyCode+" / "+evt.which);
	msg+="키 다운 - 코드 값: "+evt.which+", 입력 값: "+document.frm.name.value+"<br>";
	//2.output div에 설정
	document.getElementById("output").innerHTML=msg;
}//testEvt

function testEvt2(evt){
	//.addEventListener함수에서 발생된 evt는 발생된 이벤트 객체가 입력된다.
	//alert("키보드 이벤트 성공"+evt);
	
	//1.눌린키의 키 값과 text를 얻기
	//alert(evt.keyCode+" / "+evt.which);
	msg+="키 업 - 코드 값: "+evt.which+", 입력 값: "+document.frm.name2.value+"<br>";
	//2.output div에 설정
	document.getElementById("output").innerHTML=msg;
}//testEvt2

function setTextLeng(evt){
	var obj=document.frm;
	//.addEventListener함수에서 발생된 evt는 발생된 이벤트 객체가 입력된다.
	
	//1.눌린키의 키 값과 text를 얻기
	var totalLength=100-obj.intro.value.length;
	if(totalLength<0){
		alert("더 이상 입력하실 수 없습니다.");
		//obj.intro.value=obj.intro.value.substring(0, 100);//100자 넘을 시 글자가 짤리도록
		return;
	}//end if
	//2.output div에 설정
	document.getElementById("leng").innerHTML=totalLength;
}//testEvt3
</script>
</head>
<body>
<form name="frm"> <!-- 이유? back-end로 값을 전송하기 위해 -->
<strong>키보드 이벤트 처리</strong>
<br>
<!-- 키보드 입력이 가능한 HTML Form Control만 가능 -->
<input type="text" name="name" id="name" class="inputBox" style="height:35px; width:250px"
placeholder="키 다운"/>
<input type="text" name="name2" id="name2" class="inputBox" style="height:35px; width:250px"
placeholder="키 업"/>
<br/>
<div id="output"></div>

<label>자기소개</label>
<textarea name="intro" id="intro" class="inputBox" style="height:200px; width:550px" maxlength=100></textarea>
<br>
100자 까지 입력가능 <span id="leng"></span>자 입력 중
</form>
</body>
</html>